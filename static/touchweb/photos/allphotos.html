<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
        <title>相册</title>
        <link rel="stylesheet" type="text/css" href="../resource/css/swiper.min.css">
        <link rel="stylesheet" type="text/css" href="../resource/css/photo.css">
    </head>

    <body class="heigitbody">
        <div class="topinfo">
            <a class="rightclose"></a>
            <span id="nowSelectnum">4</span>/<span id="fenLeiallnum">10</span>
        </div>

        <div class="allphotos" id="mainsection">
            <div class="swiper-container"  id="xiaoguoUrl">
                <div class="swiper-wrapper phoneul">
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/lxj_bg.png" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>

                </div>
            </div>


            <div class="swiper-container"  id="huxingUrl">
                <div class="swiper-wrapper phoneul">
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/detail_big_img.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/lxj_bg.png" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>

                </div>
            </div>

            <div class="swiper-container"  id="shijingUrl">
                <div class="swiper-wrapper phoneul">
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/lxj_bg.png" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>

                </div>
            </div>

            <div class="swiper-container"  id="zongpingUrl">
                <div class="swiper-wrapper phoneul">
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/lxj_bg.png" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>

                </div>
            </div>

            <div class="swiper-container"  id="zhoubianUrl">
                <div class="swiper-wrapper phoneul">
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/lxj_bg.png" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/lxj_bg.png" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>
                    <div class="swiper-slide photoli">
                        <img data-src="../resource/images/testlou.jpg" class="swiper-lazy">
                        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
                    </div>

                </div>
            </div>
        </div>
        <div class="bottom-nav swiper-container">
            <div class="swiper-wrapper navul" id="bottomnavli">
                <div class="swiper-slide navli"><a href="#" data-id="xiaoguoUrl" class="current">效果图</a></div>
                <div class="swiper-slide navli"><a href="#" data-id="huxingUrl">户型图</a></div>
                <div class="swiper-slide navli"><a href="#" data-id="shijingUrl">实景图</a></div>
                <div class="swiper-slide navli"><a href="#" data-id="zongpingUrl">总平图</a></div>
                <div class="swiper-slide navli"><a href="#" data-id="zhoubianUrl">项目周边图</a></div>
            </div>
        </div>


        <script src="../lib/requirejs/require.js"></script>
        <script>
            requirejs.config({
                //baseUrl: localPath + 'lib',
                baseUrl: '../lib',
                paths: {
                    'jquery': 'jquery/jquery.min',
                    'swiper': 'plugs/swiper.min'
                }
            });
            require(["jquery", "swiper"], function () {
                //默认选中，获取数据去除URL,传来数据后台去除URL
                var initbk = "xiaoguoUrl";
                var initnum = 1;
                var fenleiallNum = $('#' + initbk).find(".photoli").length;
                $("#fenLeiallnum").html(fenleiallNum);
                $("#nowSelectnum").html(parseInt(initnum) + 1);

                var bottomswipe = new Swiper('.bottom-nav', {
                    slidesPerView: 4.5,
                    freeMode: true,
                    spaceBetween: 12,
                    freeModeMomentum: false
                });
              var photowipe = new Swiper('#' + initbk, {
                        initialSlide: initnum,
                        preloadImages: false,
                        lazyLoading: true,
                        runCallbacksOnInit: false,
                        onSlideChangeEnd: function () {
                            var nownum = photowipe.activeIndex + 1;
                            $("#nowSelectnum").html(nownum);
                        }
                   });



                $("#bottomnavli .navli").on("click", function () {
                    $(this).children().eq(0).addClass("current");
                    $(this).siblings().each(function(){
                        $(this).children().eq(0).removeClass("current");
                    })
                    var initbkid = $(this).children().data("id");
                    $("#" + initbkid).show();
                    $("#" + initbkid).siblings().hide();
                     var initnums=0;
                    loadPic(initbkid,initnums);
                   var fenleiallNums = $('#' + initbkid).find(".photoli").length;
                  $("#fenLeiallnum").html(fenleiallNums);
                  $("#nowSelectnum").html(parseInt(initnums) + 1);
                  photowipe.slideTo(0, 500, false);
                })


                function loadPic(id, num) {
                    num = num ? num : 0;
                    var photowipe = new Swiper('#' + id, {
                        initialSlide: num,
                        preloadImages: false,
                        lazyLoading: true,
                        runCallbacksOnInit: false,
                        onSlideChangeEnd: function () {
                            var nownum = photowipe.activeIndex + 1;
                            $("#nowSelectnum").html(nownum);
                        }
                    });
                }


            });
        </script>
    </body>
</html>

